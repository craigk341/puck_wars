// Dota Heroes File
"DOTAAbilities"
{
		"Version"		"1"

		"puck_illusory_orb_datadriven"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"puck_illusory_orb"
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0.1 0.1 0.1 0.1"
		"AbilityCastRange"				"3000"

		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"12.0"

		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"70 140 210 280"

		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"150 150 150 150"

		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"225"		
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"max_distance"				"1800 1800 1800 1800"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"orb_speed"					"600 600 600 600"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"orb_vision"				"800 800 800 800"
			}
			"05"
			{
				"var_type"					"FIELD_FLOAT"
				"vision_duration"			"3.34 3.34 3.34 3.34"
			}
			// Extra variables
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"num_extra_visions"			"4"
			}
		}
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"					"soundevents/game_sounds_heroes/game_sounds_puck.vsndevts"
			"soundfile"					"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
			"particle"					"particles/units/heroes/hero_puck/puck_illusory_orb.vpcf"
			"particle"					"particles/units/heroes/hero_puck/puck_illusory_orb_blink_out.vpcf"
		}
		
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"illusory_orb.lua"
				"Function"		"CastIllusoryOrb"
				"Target"		"POINT"
				
				"damage"			"%AbilityDamage"
				"radius"			"%radius"
				"max_distance"		"%max_distance"
				"orb_speed"			"%orb_speed"
				"orb_vision"		"%orb_vision"
				"vision_duration"	"%vision_duration"
				"num_extra_visions"	"%num_extra_visions"
				
				"proj_particle"		"particles/units/heroes/hero_puck/puck_illusory_orb.vpcf"
				"proj_modifier"		"modifier_illusory_orb_projectile_datadriven"
			}
		}
		
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"		"0"
			
			"RunScript"
			{
				"ScriptFile"	"illusory_orb.lua"
				"Function"		"OnUnitHit"
				"target"		"TARGET"
				"damage"		"%AbilityDamage"
			}
			
			"FireSound"
			{
				"EffectName"	"Hero_Puck.Illusory_Orb_Damage"
				"Target"		"TARGET"
			}
		}
		
		"OnUpgrade"
		{
			"RunScript"
			{
				"ScriptFile"	"illusory_orb.lua"
				"Function"		"OnUpgrade"
				
				"sub_ability"	"puck_ethereal_jaunt_datadriven"
			}
		}
		
		"Modifiers"
		{
			"modifier_illusory_orb_projectile_datadriven"
			{	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"illusory_orb.lua"
						"Function"		"StopSound"
						"Target"		"TARGET"
						"sound_name"	"Hero_Puck.Illusory_Orb"
					}
				}
				
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"			"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	

		"puck_ethereal_jaunt_datadriven"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
		"AbilityTextureName"			"puck_ethereal_jaunt"
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0.0 0.0 0.0 0.0"
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"OnSpellStart"
		{
			"AttachEffect"
			{
				"EffectName"		"particles/units/heroes/hero_puck/puck_illusory_orb_blink_out.vpcf"
				"EffectAttachType"	"attach_hitloc"
				"Target"			"CASTER"
				
				"ControlPointEntities"
				{
					"CASTER"	"attach_hitloc"
				}
			}
			
			"RunScript"
			{
				"ScriptFile"	"illusory_orb.lua"
				"Function"		"CastEtherealJaunt"
			}
			
			"FireSound"
			{
				"EffectName"		"Hero_Puck.EtherealJaunt"
				"Target"			"CASTER"
			}
		}
	}




	"puck_waning_rift_datadriven"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"puck_waning_rift"

		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0.1 0.1 0.1 0.1"

		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"16.0 16.0 16.0 16.0"

		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"70 140 210 280"

		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"100 110 120 130"		

		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"400 400 400 400"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"silence_duration"			"0.75 1.5 2.25 3.0"
			}
		}
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"					"soundevents/game_sounds_heroes/game_sounds_puck.vsndevts"
			"particle"					"particles/units/heroes/hero_puck/puck_waning_rift.vpcf"
		}
		
		"OnSpellStart"
		{


			"Damage"
			{
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Type"		"DAMAGE_TYPE_MAGICAL"
				"Damage"	"%AbilityDamage"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_silenced"
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%silence_duration"
			}
			
			"AttachEffect"
			{
				"EffectName"        "particles/units/heroes/hero_puck/puck_waning_rift.vpcf"
				"EffectAttachType"  "attach_origin"
				"Target"       		"CASTER"
				"ControlPoints"
				{
					"01"	"%radius %radius %radius"
				}
			}
			
			"RunScript"
			{
				"damage"		"%AbilityDamage"

				"ScriptFile"	"illusory_orb.lua"
				"Function"		"WaningRiftReflect"
			}

			"FireSound"
			{
				"EffectName"		"Hero_Puck.Waning_Rift"
				"Target"			"CASTER"
			}
		}
		
		//(copied from death_prophet_silence_datadriven.txt)
		//modifier_silence is a Built-In modifier, _silenced is custom
		"Modifiers"
		{
			"modifier_silenced"
			{
				"IsDebuff"			"1"

				"EffectName"		"particles/generic_gameplay/generic_silenced.vpcf"
				"EffectAttachType"	"follow_overhead"

				"States"
				{
					"MODIFIER_STATE_SILENCED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
}
